<tool id="BMGE-1.0" name="BMGE" version="1.0">
	<description>cleaning aligned sequences</description>
	<command interpreter="sh">BMGE.sh 	-i $input 
						-t $dataType.codeSeq 
						-m $dataType.matrice$dataType.estimated 
						-w $windowsSize 
						-g $rateCutOff 
						-b $minBlock  	
						-op  $output
	</command>

	<inputs>
		<param name="input" format="fasta" type="data" label="Source file" help="Fasta format"/>
 	<conditional name="dataType">
		<param name="codeSeq" type="select" label="Sequence Coding">
			<option value="DNA">DNA</option>
			<option value="AA">AA</option>
			<option value="CODON">Codon</option>
		</param>
		<when value="DNA"> 
			<param name="matrice" type="hidden" label="matrice"  value="DNAPAM"/>                                           	 
			<param name="estimated" type="integer" label="Estimated matrice PAM [ 1-500 ]"  value="250" min="1" max="500"/>   
		</when>
		<when value="AA">
			<param name="matrice" type="hidden" label="matrice" value="BLOSUM"/>
			<param name="estimated" type="select" label="Estimated matrice BLOSUM">    						
				<option value="62">62</option>
				<option value="30">30</option>
				<option value="35">35</option>
				<option value="40">40</option>
				<option value="45">45</option>
				<option value="50">50</option>
				<option value="55">55</option>
				<option value="60">60</option>
				<option value="65">65</option>
				<option value="70">70</option>
				<option value="75">75</option>
				<option value="80">80</option>
				<option value="85">85</option>
				<option value="90">90</option>
				<option value="95">95</option>
			</param>
		</when>
		<when value="CODON">
			<param name="matrice" type="hidden" label="matrice" value="BLOSUM"/>
			<param name="estimated" type="select" label="Estimated matrice BLOSUM">  						
				<option value="62">62</option>
				<option value="30">30</option>
				<option value="35">35</option>
				<option value="40">40</option>
				<option value="45">45</option>
				<option value="50">50</option>
				<option value="55">55</option>
				<option value="60">60</option>
				<option value="65">65</option>
				<option value="70">70</option>
				<option value="75">75</option>
				<option value="80">80</option>
				<option value="85">85</option>
				<option value="90">90</option>
				<option value="95">95</option>
			</param>
		</when>
	</conditional>	
	<param name="windowsSize" type="select" label="Sliding Windows Size">
			<option value="3">3</option>		
			<option value="1">1</option>
			<option value="5">5</option>
			<option value="7">7</option>
	</param> 
	<param name="rateCutOff" type="float" label="Gap Rate cut-off  [ 0-1 ]" value="0.2" min="0" max="1"/>   
	<param name="minBlock" type="integer" label="Minimum Block Size" value="5"/>      			
	</inputs>
	
	<outputs>
		<data name="output" format="txt" label="BMGE Cleaned sequencies"/>		
	</outputs>

	<help>

.. class:: infomark

**BMGE version 1.1 , 2010**

.. class:: infomark

**Program encapsulated in Galaxy by ATGC (C. Vernette, V. Lefort)**

-----

==============
Please cite:
==============

"BMGE_ (Block Mapping and Gathering with Entropy): a new software for selection of phylogenetic informative regions from multiple sequence alignments"


.. _BMGE: http://www.biomedcentral.com/1471-2148/10/210

**Alexis Criscuolo and Simonetta Gribaldo**

BMC Evolutionary Biology 2010, 10:210  doi:10.1186/1471-2148-10-210.

-----

===========
Overview:
===========

BMGE_ (Block Mapping and Gathering with Entropy) is a program that selects regions in a multiple sequence alignment that are suited for phylogenetic inference. BMGE selects characters that are biologically relevant, thanks to the use of standard similarity matrices such as PAM or BLOSUM. Moreover, BMGE provides other character- or sequenceremoval operations, such stationary-based character trimming (that provides a subset of compositionally homogeneous characters) or removal of sequences containing a too large proportion of gaps. Finally, BMGE can simply be used to perform standard conversion operations among DNA-, codon-, RY- and amino acid-coding sequences.




	</help>
	
</tool>
