<tool id="etetree" name="ETEtree" version="1.0" force_history_refresh="True">

	<description>scripting phylogenetic graphics</description>

	<command interpreter="python">ETETree.py
	                       -i $fileNewick
                           $hidlength
		                   $hidsupport
		                   --ext $ext
		                   #if $ext =="svg":
		                      -o $outputsvg
		                   #else if $ext =="png":
						      -o $outputpng
						   #end  if
	</command>
	<inputs>
		<param name="fileNewick" type="data" format="txt,nw" label="Newick file"/>
		<param name="hidleaf" type="boolean" truevalue="--noleaf" falsevalue="" checked="False" label="hide leaf name"/>
	    <param name="hidlength" type="boolean" truevalue="--nolength" falsevalue="" checked="False" label="hide branch length"/>
		<param name="hidsupport" type="boolean" truevalue="--nosupport" falsevalue="" checked="False" label="hide branch support"/>
		<param name="ext" type="select" label="Output format">
		      <option value="svg" selected="true">SVG</option>
		      <option value="png">PNG</option>
		</param>
		
	</inputs>

	<outputs>
		<data name="outputsvg" format="svg" label="${fileNewick.name}.svg" from_work_dir="*.svg">   
	       <filter>ext == "svg"</filter>
		</data> 
        <data name="outputpng" format="png" label="${fileNewick.name}.png" from_work_dir="*.png">
           <filter>ext == "png"</filter>
        </data>
	</outputs>
	<help>
	</help>
</tool>
