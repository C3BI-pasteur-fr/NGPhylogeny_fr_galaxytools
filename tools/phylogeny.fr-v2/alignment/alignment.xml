<tool id="selectAlgn" name="Alignment Tools" version="1.0">
	<description></description>
	<macros>
		<import>mafft_macros.xml</import>
		<import>clustalo_macros.xml</import>
		<import>muscle_macros.xml</import>
	</macros>
	<command>
			#if $select_tool.tool == "mafft":
			   @MAFFT_PATH@ 
               @MAFFT_COMMAND@
			#elif $select_tool.tool == "clustalo":
			   @CLUSTALO_PATH@
               @CLUSTALO_COMMAND@
			#else:
			   @MUSCLE_PATH@
               @MUSCLE_COMMAND@
			#end if
	</command>
	<inputs>
		<conditional name="select_tool">
			<param name="tool" type="select" label="Choose one alignment tool">
				<option value="mafft">Mafft</option>
				<option value="clustalo">ClustalO</option>
				<option value="muscle">Muscle</option>
			</param>
			<when value="mafft">
				<expand macro="mafft_opt" />
			</when>
			<when value="clustalo">
				<expand macro="clustalo_opt" />
			</when>
			<when value="muscle">
				<expand macro="muscle_opt" />
			</when>
		</conditional>
	</inputs>
	<outputs>
		<data name="outputAlignment" format="fasta" label="Mafft Alignment">
			<filter>select_tool['selected_tool'] == "mafft"</filter>
			<change_format>
				<when input="outputFormat" value="clustalw" format="clustal" />
			</change_format>
		</data>
		<data name="output" format="fasta" label="${select_tool.tool} Aligned sequencies">
			<filter>select_tool['selected_tool'] != "mafft"</filter>
			<change_format>
				<when input="outputFormat" value="clu" format="clustal" />
				<when input="outputFormat" value="phy" format="phylip" />
			</change_format>
		</data>
	
		<data name="guideTree" format="txt" label="Guide tree">
			<filter>select_tool['getTree'] == True</filter>
		</data>
	</outputs>
	<help>
.. class:: infomark

**Program encapsulated in Galaxy by ATGC (C. Vernette, V. Lefort)**

-----

===========
Overview:
===========


Meta-brick to aligned sequences for phylogenetic analyses.

This meta brick is part of a workflow for advanced analysis on phylogeny.fr_

.. _phylogeny.fr: http://www.phylogeny.fr/

	</help>
</tool>
 