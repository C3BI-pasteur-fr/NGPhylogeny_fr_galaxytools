<tool id="CleanDetect-1.0" name="Automatic cleaning" version="1.0">
	<description></description>
	<command>
	#if $sequence.value == "" :
        cp $input $output;
	   
	#else: 
		BMGE.jar
		-i $input 
		-w 3 
		-g 0.2 
		-b 5 
		-of $output
		-t $sequence
	   
	   #if $sequence.value == "DNA"
	             -m DNAPAM250
	   #else if $sequence.value == "AA":
	             -m BLOSUM62         
	   #end if
	   ;          
    #end if
	</command>
	<inputs>
	    <param name="input" format="fasta" type="data" label="Source file" help="Fasta sequence file" />
		<param name="sequence" type="select" label="Filtering aligned sequence" help="Remove of non-informative regions">
		        <option value="">no filter</option>
				<option value="DNA">DNA</option>
				<option value="AA">AA</option>
				<option value="CODON">Codon</option>
		</param>
	</inputs>
	<outputs>
		<data format="fasta" name="output" label="${input.name}"/>
	</outputs>
	<help>

===========
Overview:
===========

Meta-brick to clean or not aligned sequences for phylogenetic analyses.

This meta brick is part of a workflow for oneClick analysis on phylogeny.fr_

.. _phylogeny.fr: http://www.phylogeny.fr/

	</help>
</tool>
